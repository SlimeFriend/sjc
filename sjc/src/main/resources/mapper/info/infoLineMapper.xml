<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sjc.app.info.mapper.InfoLineMapper">

	<select id="selectLineAllList" resultType="LineVO" parameterType="LineVO">
        select	l.LINE_CODE  
		        ,l.PRD_CODE
                ,p.prd_name
				,l.USE
		from    LINE    l
        join    prd     p
        on      l.prd_code = p.prd_code
	    <where>
	        <if test="lineCode != null and lineCode != ''">
	            AND UPPER(l.line_code) LIKE UPPER('%' || #{lineCode} || '%')
	        </if>
	        <if test="prdCode != null and prdCode != ''">
	            AND UPPER(l.prd_code) LIKE UPPER('%' || #{prdCode} || '%')
	        </if>
	        <if test="use != null and use != ''">
	            AND UPPER(l.use) LIKE UPPER('%' || #{use} || '%')
	        </if>
	    </where>
	    ORDER BY l.LINE_CODE
	</select>
	
    <update id="updateLine" parameterType="LineVO">
        UPDATE 	line
        SET 	
            	prd_code = #{prdCode}
        WHERE 	line_code = #{lineCode}
    </update>
    	
</mapper>