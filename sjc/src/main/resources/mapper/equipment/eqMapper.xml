<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sjc.app.eq.mapper.EqMapper">

	<!-- 전체조회 -->
<select id="selectEqAll" resultType="EqVO">
	SELECT eq_code
	    , eq_mdnm
	    , use
	    , eq_mdno
	    , eq_dep
	    , eq_temp
	    , eq_min
	    , eq_max
	    , eq_standtemp
	    , eq_period
	    , manager
	    , eq_location
	    , eq_img
	    , line_code
	    , eq_type
	    , eq_name
	    , type_name
	    , eq_ckdate
	    , description
	    , employee_no
	FROM eq
	ORDER BY eq_code
</select>

    <!-- 등록 -->
<insert id="insertEqInfo" parameterType="EqVO">
	<selectKey keyProperty="eqMdno"
			   resultType="Integer"
			   order="BEFORE">
		SELECT NVL(MAX(eqMdno), 1000) +  1
        FROM   eq
    </selectKey>
  	INSERT INTO eq
  				(
  				eq_mdnm
  			  , use
	    	  , eq_code
	     	  , eq_mdno
	    	  , eq_dep
	    	  , eq_temp
	    	  , eq_period
	    	  , employee_no
	    	  , manager
	    	  , eq_location
	    	  , eq_img
  				)
  	VALUES (
  			#{eqMdnm}
  			,#{use}
  			,#{eqCode}
  			,#{eqMdno}
  			,#{eqDep}
  			,#{eqTemp}
  			,#{eqPeriod}
  			,#{employeeNo}
  			,#{manager}
  			,#{eqLocation}
  			,#{eqImg}
  			
  			)
</insert>

    <!-- 단건조회 -->
<select id="selectEqInfo" resultType="EqVO">
    SELECT eq_mdnm
	    , eq_mdno
	    , eq_ckdate
	    , use
	    , eq_dep
	    , manager
	    , eq_code
	    , eq_standtemp
	    , eq_location
	    , line_code
    FROM   eq
    WHERE  eq_code = #{eqCode}
</select>

</mapper>