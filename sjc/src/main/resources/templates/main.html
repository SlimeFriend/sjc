<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net/thymeleaf/layout"
	layout:decorate="~{common/layouts/default_layout}"
	layout:fragment="Content">
<head>
<meta charset="UTF-8">
<!-- http.csrf(csrf -> csrf.disable());
<meta th:name="_csrf_header" th:value="${_csrf.headerName}"/>
<meta th:name="_csrf" th:value="${_csrf.token}"/>
 -->
<title></title>
</head>
<body>
	<div class="main-container">
		<div class="pd-20">
			<h2 class="h2 mb-20">메인 페이지</h2>
			<div class="pd-20 card-box mb-20" style="width: 48%">
			
			<div class="form-group">
					<label for="company">현재 접속중인 유저</label> 
					<input class="form-control" type="text" th:value="${#authentication.principal.username}" />
			</div>
			
			<div class="form-group">
					<label for="company">권한코드</label> 
					<input class="form-control" type="text" th:value="${#authentication.principal.authorities[0]}" />
			</div>
			
			<div class="form-group">
					<label for="company">권한번호</label> 
					<input class="form-control" type="text" th:value="${#authentication.principal.authorities[1]}" />
			</div>
			
			<div class="form-group">
					<label for="company">권한</label> 
					<input class="form-control" type="text" th:value="${#authentication.principal.authorities[2]}" />
			</div>
			
			<div class="form-group">
					<label for="company">부서코드</label> 
					<input class="form-control" type="text" th:value="${#authentication.principal.authorities[3]}" />
			</div>
			
			<div class="form-group">
					<label for="company">부서</label> 
					<input class="form-control" type="text" th:value="${#authentication.principal.authorities[4]}" />
			</div>
			
			<div class="form-group">
					<label for="company">유저 아이디</label> 
					<input class="form-control" type="text" th:value="${#authentication.principal.authorities[5]}" />
			</div>
				<!-- 
		<ul>
			<li><a th:href="@{/user}">일반 사용자용 페이지로</a></li>
			<li sec:authorize="hasRole('ADMIN')"><a th:href="@{/admin}">관리자
					전용 페이지로</a></li>
		</ul>
		 -->
				<th:block sec:authorize="isAuthenticated()">
					<!-- 
			<p sec:authentication="name" />
			<p sec:authentication="principal.username" />
			<p sec:authentication="principal.authorities[0]" />
			<p sec:authentication="principal.authorities[1]" />
			<p sec:authentication="principal.authorities[2]" />
		 -->
				
<!-- 					<input class="form-control" type="text"
						th:value="${#authentication.principal.authorities[0]}" />
					userId
					<input class="form-control" type="text"
						th:value="${#authentication.principal.authorities[1]}" />
					userName
					<input class="form-control" type="text"
						th:value="${#authentication.principal.authorities[2]}" />
					deptCode
					<input class="form-control" type="text"
						th:value="${#authentication.principal.authorities[3]}" />
					deptName
					<input class="form-control" type="text"
						th:value="${#authentication.principal.authorities[4]}" />
					longinId
					<input class="form-control" type="text"
						th:value="${#authentication.principal.authorities[5]}" /> -->
				</th:block>

				<form th:action="@{/logout}" method="post">
					<button type="submit" class="btn btn-primary">로그아웃</button>
				</form>
				
			</div>
		</div>
	</div>


</body>
</html>